let pokemonRepository=function(){let e=[],t='https://pokeapi.co/api/v2/pokemon/?limit=150';document.querySelector('#modal-container');function n(t){if('object'==typeof t)return e.push(t)}async function o(e){let t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.weight=t.weight,e.abilities=t.abilities})}function i(e){o(e).then(function(){!function(e){let t=$('.modal-body'),n=$('.modal-title');$('.modal-header');n.empty(),t.empty();let o=$('<h>'+e.name+'</h>'),i=$('<img class="modal-img" style="width:50%">');i.attr('src',e.imageUrl);let a=$('<p>height : '+e.height+'</p>'),l=$('<p>weight : '+e.weight+'</p>'),s=e.types.map(e=>e.type.name),p=$('<p>types : '+s.join(', ')+'</p>'),d=e.abilities.map(e=>e.ability.name),r=$('<p>abilities : '+d.join(', ')+'</p>');n.append(o),t.append(i),t.append(a),t.append(l),t.append(p),t.append(r)}(e)})}return $('#pokemonModal').hide('modalContainer'),{add:n,getAll:function(){return e},addListItem:function(e){let t=document.querySelector('.list-group'),n=document.createElement('li');n.classList.add('group-list-item');let o=document.createElement('button');o.innerText=e.name,o.classList.add('pokebutton'),o.classList.add('btn','btn-secondary'),o.setAttribute('data-target','#pokemonModal'),o.setAttribute('data-toggle','modal'),o.addEventListener('click',function(){console.log(e),i(e)}),n.appendChild(o),t.appendChild(n)},loadList:async function(){try{const e=await fetch(t);(await e.json()).results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}catch(e){console.error(e)}},loadDetails:o,showDetails:i}}();document.getElementById('search').addEventListener('input',e=>{const t=e.target.value;let n=document.getElementsByClassName('pokebutton');for(let e=0;e<n.length;e++)n[e].innerText.includes(t)?n[e].style.display='inline-block':n[e].style.display='none'}),console.log(pokemonRepository.getAll());let pokemonInfo=pokemonRepository.getAll();pokemonRepository.loadList().then(function(){pokemonInfo.forEach(function(e){pokemonRepository.addListItem(e)})});